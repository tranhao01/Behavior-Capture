<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ AI Behavioral Analyst Tester</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f5f7fa; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .section { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        textarea { width: 100%; height: 300px; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-family: monospace; font-size: 13px; }
        .buttons { display: flex; gap: 10px; margin-top: 15px; }
        button { padding: 10px 16px; border: none; border-radius: 6px; cursor: pointer; font-weight: 500; }
        .btn-sample { background: #f3f4f6; color: #374151; }
        .btn-analyze { background: #2563eb; color: white; }
        .btn-copy { background: #059669; color: white; }
        button:hover { transform: translateY(-1px); }
        @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ AI Behavioral Analyst Tester</h1>
            <p>Test prompt ph√¢n t√≠ch h√†nh vi ng∆∞·ªùi d√πng v·ªõi d·ªØ li·ªáu th·ª±c t·∫ø</p>
        </div>
        
        <div class="grid">
            <div class="section">
                <h2>üìä D·ªØ li·ªáu ƒë·∫ßu v√†o</h2>
                <textarea id="inputData" placeholder="Nh·∫≠p d·ªØ li·ªáu JSON..."></textarea>
                <div class="buttons">
                    <button class="btn-sample" onclick="loadSample()">D√πng d·ªØ li·ªáu m·∫´u</button>
                    <button class="btn-analyze" onclick="analyze()">üîç Ph√¢n t√≠ch</button>
                    <button class="btn-copy" onclick="copyPrompt()">üìã Copy Prompt</button>
                </div>
            </div>
            
            <div class="section">
                <h2>ü§ñ K·∫øt qu·∫£ ph√¢n t√≠ch</h2>
                <textarea id="result" readonly placeholder="K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y..."></textarea>
            </div>
        </div>
    </div>

    <script>
        const SAMPLE_DATA = {
            event: "Add to Cart",
            event_attributes: {
                product_id: "SKU12345",
                category: "Shoes",
                quantity: 2,
                price: 450000,
                channel: "Facebook Ads",
                timestamp: "2025-09-14T16:45:00Z"
            },
            user_attributes: {
                user_id: "U001",
                device: "Mobile iOS",
                location: "HCMC, VN",
                language: "vi",
                purchase_history: [
                    { order_id: "O101", value: 1200000, date: "2025-07-21" },
                    { order_id: "O102", value: 800000, date: "2025-08-10" }
                ]
            }
        };

        const PROMPT_TEMPLATE = {
            role: "system",
            name: "AI Behavioral Analyst",
            instructions: [
                "B·∫°n l√† chuy√™n gia ph√¢n t√≠ch h√†nh vi ng∆∞·ªùi d√πng, tu√¢n th·ªß b·∫£o m·∫≠t & ph√°p l√Ω.",
                "Nhi·ªám v·ª•: nh·∫≠n d·ªØ li·ªáu s·ª± ki·ªán (event logs) v√† h·ªì s∆° ng∆∞·ªùi d√πng (user profile) ƒë·ªÉ ph√¢n t√≠ch h√†nh vi.",
                "Lu√¥n t√°ch ri√™ng 2 nh√≥m thu·ªôc t√≠nh: (1) Event Attributes, (2) User Attributes.",
                "Lu√¥n l√†m r√µ: (a) h√†nh vi hi·ªán t·∫°i, (b) xu h∆∞·ªõng/cluster, (c) nguy c∆°/churn, (d) c∆° h·ªôi c√° nh√¢n h√≥a.",
                "ƒê·∫ßu ra ph·∫£i c√≥: Summary ‚Üí Ph√¢n t√≠ch chi ti·∫øt ‚Üí Khuy·∫øn ngh·ªã.",
                "Kh√¥ng g√°n nh√£n t√≠nh c√°ch c·ª©ng, ch·ªâ ƒë∆∞·ª£c ƒë∆∞a ra x√°c su·∫•t ho·∫∑c segment h√†nh vi.",
                "Kh√¥ng suy di·ªÖn v·ªÅ quan h·ªá x√£ h·ªôi tr·ª´ khi c√≥ d·ªØ li·ªáu quan h·ªá ƒë∆∞·ª£c cung c·∫•p.",
                "Lu√¥n n√™u gi·ªõi h·∫°n & ƒë·ªô tin c·∫≠y c·ªßa ph√¢n t√≠ch."
            ]
        };

        function loadSample() {
            document.getElementById('inputData').value = JSON.stringify(SAMPLE_DATA, null, 2);
        }

        function analyze() {
            const btn = event.target;
            btn.textContent = 'ƒêang ph√¢n t√≠ch...';
            btn.disabled = true;
            
            setTimeout(() => {
                const mockResult = {
                    summary: "Ng∆∞·ªùi d√πng U001 v·ª´a th√™m 2 ƒë√¥i gi√†y (450k/ƒë√¥i) v√†o gi·ªè qua qu·∫£ng c√°o Facebook.",
                    analysis: {
                        current_behavior: "Quan t√¢m gi√†y, nh·∫°y v·ªõi qu·∫£ng c√°o social.",
                        trend: "C√≥ xu h∆∞·ªõng mua gi√†y th·ªÉ thao trung-cao c·∫•p.",
                        risk: "Th·ªânh tho·∫£ng b·ªè gi·ªè (need tracking checkout rate).",
                        opportunity: "Upsell ph·ª• ki·ªán gi√†y ho·∫∑c khuy·∫øn m√£i free-ship."
                    },
                    recommendation: [
                        "G·ª≠i voucher free-ship trong 24h.",
                        "ƒê·ªÅ xu·∫•t gi√†y m·ªõi c√πng ph√¢n kh√∫c gi√°.",
                        "ƒê∆∞a v√†o segment 'Mid-tier Shoe Buyers from FB Ads'."
                    ],
                    limitations: "Ch∆∞a c√≥ d·ªØ li·ªáu checkout ‚Üí kh√¥ng th·ªÉ ƒëo√°n ch·∫Øc t·ª∑ l·ªá chuy·ªÉn ƒë·ªïi."
                };
                
                document.getElementById('result').value = JSON.stringify(mockResult, null, 2);
                btn.textContent = 'üîç Ph√¢n t√≠ch';
                btn.disabled = false;
            }, 2000);
        }

        function copyPrompt() {
            try {
                const inputData = JSON.parse(document.getElementById('inputData').value || '{}');
                const fullPrompt = {
                    ...PROMPT_TEMPLATE,
                    user_input: inputData
                };
                navigator.clipboard.writeText(JSON.stringify(fullPrompt, null, 2));
                alert('Prompt ƒë√£ ƒë∆∞·ª£c copy v√†o clipboard!');
            } catch (e) {
                alert('L·ªói: D·ªØ li·ªáu JSON kh√¥ng h·ª£p l·ªá');
            }
        }

        // Load sample data on page load
        window.onload = () => loadSample();
    </script>
</body>
</html>